<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments/base :: base(~{::title},~{::h2},~{::section})">
<div th:replace="fragments/base :: head"></div>


<title>Search Results</title>

<body>
<div th:replace="fragments/header :: header"></div>
<h2>Book Search Results</h2>

<section class="searchResult container align-middle bg-light">
    <table class="table">
        <tr>
            <th>Isbn</th>
            <th>Title</th>
            <th>Author</th>
            <th>Availability</th>
            <th>Library</th>
        </tr>
        <tr th:if="${#lists.size(copies) == 0}">
            <td colspan="5">No result</td>
        </tr>
        <tr th:if="${#lists.size(copies) != 0}" th:each="copy: ${copies}"> pour chaque copy de la list de copies, on
            affichera les diverses infos ci-dessous
            <td>
                <p th:text="${copy.bookDto.title}">Title</p>
                <a class="nav-link" th:text="${copy.bookDto.title}" th:href="@{/books/details/{id}(id=${copy.bookDto.bookId})}">Book Details</a>
            </td>
            <td>
                <p th:text="${copy.bookDto.isbn}">Isbn</p>
            </td>
            <td>
                <p th:text="${copy.bookDto.authorDto.lastName}">Author Lastname</p>
                <p th:text="${copy.bookDto.authorDto.firstName}">Author firstname</p>
            </td>
            <td>
                <p th:if="${copy.available == true}">Available</p>
                <p th:if="${copy.available == false}"> Not available</p>
            </td>
            <td>
                <a class="nav-link" th:text="${copy.libraryDto.name}" th:href="@{/libraries/{id}(id=${copy.libraryDto.libraryId})}">Library Name</a>
            </td>
        </tr>
    </table>
</section>

</body>
</html>